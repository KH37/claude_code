# Claude Code コマンド & スキル集

このリポジトリは、Claude Code（Cursor AI）で使用するカスタムコマンドとスキルを集約したものです。開発ワークフローを効率化し、コード品質を向上させるための各種ツールが含まれています。

## 📁 ディレクトリ構成

```
claude_code/
├── commands/           # 汎用的なコマンド集
├── project_commands/   # プロジェクト固有のコマンド
└── skills/            # 専門的なレビュースキル
```

## 🛠️ Commands（汎用コマンド）

`commands/` ディレクトリには、どのプロジェクトでも使用できる汎用的なコマンドが含まれています。

### create-issue.md
GitHub Issueを自動作成するコマンド。

**主な機能:**
- タスクの自動分割と依存関係の識別
- プロジェクト構造の理解とissueフォーマットの自動適用
- 実装箇所の特定と技術的検討事項の整理
- 複数タスクの一括issue作成

**使用例:**
```
ユーザー認証機能とダッシュボード画面を追加したい
```

### create-pr.md
GitHub Pull Requestを自動作成するコマンド。

**主な機能:**
- ブランチ戦略に基づいた自動ブランチ作成（feature/fix/chore/docs/refactor）
- 変更内容の分析と適切なコミットメッセージの自動生成
- PR作成とアサイニー設定

**ブランチ命名規則:**
- `feature/*` - 新機能開発
- `fix/*` - バグ修正
- `chore/*` - ビルド・設定変更
- `docs/*` - ドキュメント更新
- `refactor/*` - リファクタリング

### extract-tasks.md
議事録や要件文書からタスクを抽出してissue化するコマンド。

**主な機能:**
- 議事録からの実行可能なタスク抽出
- タスクのカテゴリ分類（実装/ドキュメント/調査/運用）
- 優先度と依存関係の自動識別
- タスク一覧の提示と確認フロー

**対応するタスクタイプ:**
- プログラミング実装タスク
- ドキュメント・設計タスク
- 調査・検証タスク
- 運用・インフラタスク

### implement-issue.md
GitHub Issueの内容を読み取って実装を行うコマンド。

**主な機能:**
- Issueの自動取得と要件分析
- コードベースの調査と影響範囲の把握
- 実装計画の作成とユーザー確認
- 段階的な実装とTodo管理

**実行フロー:**
1. ブランチ作成
2. Issue取得と分析
3. コードベース調査
4. 実装計画の提示
5. ユーザー確認
6. 実装
7. 完了報告

### self-review.md
変更したコードを3つの観点から自動レビューするコマンド。

**レビュー観点:**
1. **一般コードレビュー** - ロジック、可読性、パフォーマンス、エラーハンドリング
2. **アーキテクチャレビュー** - アーキテクチャパターン準拠、コーディング規約
3. **セキュリティレビュー** - 認証・認可、入力バリデーション、機密データ取り扱い

## 📦 Project Commands（プロジェクト固有コマンド）

`project_commands/` ディレクトリには、特定のプロジェクトに合わせてカスタマイズされたコマンドが含まれています。

> ⚠️ **重要**: これらのコマンドは特定のプロジェクト向けにカスタマイズされています。使用する際は、**自分のプロジェクトに合わせて改造する必要があります**。

### find-refactoring.md
7つの観点からリファクタリング箇所を包括的に検出するコマンド。

**分析観点:**
1. **コード品質・可読性** - 重複コード、長すぎる関数、不明確な命名
2. **型安全性** - `any`型の排除、型ガード、Zodバリデーション
3. **アーキテクチャ整合性** - 層間依存ルール、ビジネスロジックの配置
4. **API設計** - エラーハンドリング、HTTPステータスコード、トランザクション
5. **パフォーマンス** - N+1クエリ、再レンダリング最適化、画像最適化
6. **テストカバレッジ** - 重要パスのテスト、エッジケーステスト
7. **セキュリティ** - バリデーション、認可チェック、機密情報保護

**主な機能:**
- 7つのサブエージェントによる並列分析
- 優先度付き統合レポート作成
- 発見した問題の自動issue化

## 🎯 Skills（専門レビュースキル）

`skills/` ディレクトリには、特定の観点に特化したレビュースキルが含まれています。

### architecture-compliance-reviewer
アーキテクチャ準拠性をレビューするスキル。

**レビュー内容:**
- プロジェクトのアーキテクチャドキュメント（ARCHITECTURE.md等）の参照
- レイヤー構造と依存関係の検証
- コーディング規約の遵守確認
- 既存コードとの一貫性分析

**使用タイミング:**
- 新しいコンポーネントを実装した時
- リファクタリング後
- プルリクエストレビュー時

### security-auth-reviewer
セキュリティ・認証・認可に特化したレビュースキル。

**レビュー内容:**
- 認証セキュリティ（パスワード処理、セッション管理、トークン認証）
- 認可セキュリティ（アクセス制御、権限昇格、IDOR）
- 入力バリデーションとインジェクション防止
- 暗号セキュリティ
- セキュリティ設定ミス
- OWASP Top 10脆弱性

**使用タイミング:**
- ログイン機能実装時
- JWT/セッション管理実装時
- 権限チェック実装時
- OAuth連携実装時
- 機密データ処理実装時

## 🚀 使い方

### 基本的な使用方法

1. **コマンドの実行**
   - Cursor AIのチャット画面でコマンド名を指定
   - 引数として必要な情報を渡す

2. **スキルの活用**
   - コード実装後に自動的に該当スキルでレビュー
   - または明示的にレビューを依頼

### 例: Issue作成からPR作成まで

```
# 1. 要件からIssueを作成
/create-issue ユーザープロフィール編集機能を追加

# 2. Issueを実装
/implement-issue #123

# 3. 自己レビュー
/self-review

# 4. PRを作成
/create-pr
```

## ⚠️ 注意事項

### Project Commandsの使用について

`project_commands/` 内のコマンドは特定のプロジェクト向けにカスタマイズされています。使用する際は以下の点を確認・修正してください：

- プロジェクトのディレクトリ構造
- 使用している技術スタック（TypeScript、Next.js、Drizzle ORM等）
- アーキテクチャパターン
- コーディング規約
- ブランチ戦略
- Issue/PRのテンプレート

### カスタマイズのポイント

1. **プロジェクト固有のルール**
   - `CLAUDE.md`、`ARCHITECTURE.md`等のドキュメントパスを確認
   - プロジェクトのディレクトリ構造に合わせて修正

2. **技術スタックの違い**
   - 使用しているフレームワークやライブラリに合わせて調整
   - 言語固有のルール（TypeScript、Python等）を反映

3. **チーム規約**
   - ブランチ命名規則
   - コミットメッセージフォーマット
   - レビュープロセス

## 📝 ライセンス

このリポジトリは個人使用を目的としています。自由に改変してご利用ください。

## 🤝 貢献

このリポジトリは個人的なコマンド集ですが、改善提案やバグ報告は歓迎します。

---

**作成者**: KH37  
**最終更新**: 2026年1月
